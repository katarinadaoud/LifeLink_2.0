2025-10-30 17:52:35.601 +01:00 [INF] No migrations were applied. The database is already up to date.
2025-10-30 17:52:35.653 +01:00 [INF] No migrations were applied. The database is already up to date.
2025-10-30 17:52:36.050 +01:00 [INF] User profile is available. Using 'C:\Users\B\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-30 17:52:36.169 +01:00 [INF] Now listening on: https://localhost:7174
2025-10-30 17:52:36.171 +01:00 [INF] Now listening on: http://localhost:5090
2025-10-30 17:52:36.175 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-30 17:52:36.177 +01:00 [INF] Hosting environment: Development
2025-10-30 17:52:36.178 +01:00 [INF] Content root path: C:\Users\B\Documents\ITPE3200\React-Homecare\api
2025-10-30 17:52:36.330 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5090/swagger - null null
2025-10-30 17:52:36.385 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5090/swagger - 301 0 null 57.5898ms
2025-10-30 17:52:36.387 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5090/swagger/index.html - null null
2025-10-30 17:52:36.440 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5090/swagger/index.html - 200 null text/html;charset=utf-8 52.4531ms
2025-10-30 17:52:36.453 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5090/swagger/swagger-ui-standalone-preset.js - null null
2025-10-30 17:52:36.453 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5090/swagger/swagger-ui.css - null null
2025-10-30 17:52:36.453 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5090/swagger/swagger-ui-bundle.js - null null
2025-10-30 17:52:36.503 +01:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2025-10-30 17:52:36.503 +01:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2025-10-30 17:52:36.503 +01:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2025-10-30 17:52:36.504 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5090/swagger/swagger-ui.css - 200 143943 text/css 51.0751ms
2025-10-30 17:52:36.504 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5090/swagger/swagger-ui-bundle.js - 200 1096145 text/javascript 51.0521ms
2025-10-30 17:52:36.504 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5090/swagger/swagger-ui-standalone-preset.js - 200 339486 text/javascript 51.052ms
2025-10-30 17:52:36.623 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5090/swagger/v1/swagger.json - null null
2025-10-30 17:52:36.649 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5090/swagger/favicon-32x32.png - null null
2025-10-30 17:52:36.649 +01:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2025-10-30 17:52:36.649 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5090/swagger/favicon-32x32.png - 200 628 image/png 0.7171ms
2025-10-30 17:52:36.713 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5090/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 89.6838ms
2025-10-30 17:52:44.874 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5090/api/Appointment - null null
2025-10-30 17:52:44.956 +01:00 [INF] Executing endpoint 'HomeCareApp.Controllers.AppointmentController.GetAppointments (api)'
2025-10-30 17:52:44.968 +01:00 [INF] Route matched with {action = "GetAppointments", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAppointments() on controller HomeCareApp.Controllers.AppointmentController (api).
2025-10-30 17:52:44.993 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[HomeCareApp.Models.Appointment, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[HomeCareApp.DTOs.AppointmentDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-30 17:52:45.070 +01:00 [INF] Executed action HomeCareApp.Controllers.AppointmentController.GetAppointments (api) in 99.5072ms
2025-10-30 17:52:45.071 +01:00 [INF] Executed endpoint 'HomeCareApp.Controllers.AppointmentController.GetAppointments (api)'
2025-10-30 17:52:45.073 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5090/api/Appointment - 200 485 application/json; charset=utf-8 199.2248ms
2025-10-30 17:52:59.538 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5090/api/Appointment - application/json-patch+json 158
2025-10-30 17:52:59.541 +01:00 [INF] CORS policy execution failed.
2025-10-30 17:52:59.541 +01:00 [INF] Request origin http://localhost:5090 does not have permission to access the resource.
2025-10-30 17:52:59.546 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-10-30 17:52:59.550 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-10-30 17:52:59.550 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5090/api/Appointment - 401 0 null 12.3351ms
2025-10-30 17:53:13.451 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5090/api/Appointment/1 - null null
2025-10-30 17:53:13.454 +01:00 [INF] Executing endpoint 'HomeCareApp.Controllers.AppointmentController.GetAppointment (api)'
2025-10-30 17:53:13.465 +01:00 [INF] Route matched with {action = "GetAppointment", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAppointment(Int32) on controller HomeCareApp.Controllers.AppointmentController (api).
2025-10-30 17:53:13.522 +01:00 [INF] Executing OkObjectResult, writing value of type 'HomeCareApp.Models.Appointment'.
2025-10-30 17:53:13.527 +01:00 [INF] Executed action HomeCareApp.Controllers.AppointmentController.GetAppointment (api) in 62.08ms
2025-10-30 17:53:13.527 +01:00 [INF] Executed endpoint 'HomeCareApp.Controllers.AppointmentController.GetAppointment (api)'
2025-10-30 17:53:13.527 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5090/api/Appointment/1 - 200 196 application/json; charset=utf-8 75.6631ms
2025-10-30 17:53:24.742 +01:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5090/api/Appointment/1 - application/json-patch+json 155
2025-10-30 17:53:24.742 +01:00 [INF] CORS policy execution failed.
2025-10-30 17:53:24.742 +01:00 [INF] Request origin http://localhost:5090 does not have permission to access the resource.
2025-10-30 17:53:24.744 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-10-30 17:53:24.744 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-10-30 17:53:24.744 +01:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5090/api/Appointment/1 - 401 0 null 2.3082ms
2025-10-30 17:53:36.226 +01:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5090/api/Appointment/1 - null null
2025-10-30 17:53:36.227 +01:00 [INF] CORS policy execution failed.
2025-10-30 17:53:36.227 +01:00 [INF] Request origin http://localhost:5090 does not have permission to access the resource.
2025-10-30 17:53:36.229 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-10-30 17:53:36.229 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-10-30 17:53:36.229 +01:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5090/api/Appointment/1 - 401 0 null 2.8738ms
2025-10-30 17:53:46.359 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5090/api/Auth/register - application/json-patch+json 81
2025-10-30 17:53:46.365 +01:00 [INF] CORS policy execution failed.
2025-10-30 17:53:46.365 +01:00 [INF] Request origin http://localhost:5090 does not have permission to access the resource.
2025-10-30 17:53:46.365 +01:00 [INF] Executing endpoint 'HomeCareApp.Controllers.AuthController.Register (api)'
2025-10-30 17:53:46.369 +01:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(HomeCareApp.DTOs.RegisterDto) on controller HomeCareApp.Controllers.AuthController (api).
2025-10-30 17:53:46.372 +01:00 [INF] Executed action HomeCareApp.Controllers.AuthController.Register (api) in 3.1322ms
2025-10-30 17:53:46.373 +01:00 [INF] Executed endpoint 'HomeCareApp.Controllers.AuthController.Register (api)'
2025-10-30 17:53:46.400 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'Microsoft.AspNetCore.Identity.UserManager`1[HomeCareApp.Models.AuthUser]' while attempting to activate 'HomeCareApp.Controllers.AuthController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method259(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-10-30 17:53:46.402 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5090/api/Auth/register - 500 null text/plain; charset=utf-8 43.4238ms
